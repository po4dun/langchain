<!DOCTYPE html>
<html>
    <head>
        <title>DataWarehouse : IL_DIM_CASE: appropriate case selection</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="DataWarehouse_33423377.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="FAQ-CDWH-Analysis_33424229.html">FAQ CDWH Analysis</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DataWarehouse : IL_DIM_CASE: appropriate case selection
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Fabian Franzeck</span>, last modified on Nov. 30, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>IL_DIM_CASE contains information on all SAP cases / Fälle. However, they often represent more of a billing construct than a clinically meaningful id. Selections on column values are often necessary.</p></div></div><p>Comments for important columns</p><ol start="1"><li><p><code>CAS_TYPE</code>: possible values are 'ambulant', 'stationär, 'teil-stationär': typically a distinction defined by the data request. 'teil-stationär' is often counted as 'ambulant', but this needs to be individually specified</p></li><li><p><code>CAS_CANCELLATION_FLAG</code>: cancelled cases are typically not relevant for many analyses. cancelled cases typically also have <code>CAS_START_DATE_TS = '9999-12-31 23:59:59'</code> (rarely another date in 9999)</p></li><li><p><code>CAS_ADMISSION_TYPE_ID</code> / <code>CAS_ADMISSION_TYPE</code>: for <code>CAS_TYPE='ambulant'</code>, there exists a frequent <code>CAS_ADMISSION_TYPE_ID='EA' </code>/ <code>CAS_ADMISSION_TYPE='Ext. Auftrag'</code>. Those cases don't typically represent clinically meaningful visits at USB but are created for billing purposes of external orders. Typically to excluded for in most cases.</p></li><li><p><code>CAS_START_DATE_TS</code> has YEAR 9999 in either cancelled cases or when cases are planned in the future</p></li></ol><p /><p><strong>Detail specification depends much on the question asked</strong>: typically a valid case in a retrospectice analysis means: A case, that is not cancelled, not deleted, actually started in the past (=not planned in the future) and is not a <code>'Ext. Auftrag'</code></p><h2 id="IL_DIM_CASE:appropriatecaseselection-SelectionofvalidambulanteFälle">Selection of valid ambulante Fälle </h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">-- E.g. selection of valid ambulante Fälle 
SELECT
    *
FROM
    cdwh.v_IL_DIM_CASE_CUR
WHERE
    CAS_ADMISSION_TYPE_ID &lt;&gt; &#39;EA&#39;
    AND CAS_CANCELLATION_FLAG = 0
    AND CAS_TYPE = &#39;ambulant&#39;
    AND CAS_START_DATE_TS NOT LIKE &#39;9999%&#39; --- cases planned in the future have 9999 year</pre>
</div></div><h2 id="IL_DIM_CASE:appropriatecaseselection-SelectionofvalidstationäreFälle">Selection of valid stationäre Fälle </h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">-- E.g. selection of valid stationäre Fälle 
SELECT
    *
FROM
    cdwh.v_IL_DIM_CASE_CUR
WHERE
    CAS_CANCELLATION_FLAG = 0
    AND CAS_TYPE = &#39;stationär&#39;
    AND CAS_START_DATE_TS NOT LIKE &#39;9999%&#39; --- cases planned in the future have 9999 year</pre>
</div></div><p /><p />
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Okt. 26, 2023 18:02</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
