<!DOCTYPE html>
<html>
    <head>
        <title>DataWarehouse : Prefect errors</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="DataWarehouse_33423377.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="Wiki_33424094.html">Wiki</a></span>
                            </li>
                                                    <li>
                                <span><a href="Problem-logs_33423661.html">Problem logs</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DataWarehouse : Prefect errors
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Michael Hadorn</span>, last modified by <span class='editor'> Fabian Franzeck</span> on Juni 02, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="Prefecterrors-PrefectErrorMessages">Prefect Error Messages</h1><p>This pages collects errors from the prefect (ordered by date desc).</p><h2 id="Prefecterrors-taskexecutedtwice">task executed twice</h2><h3 id="Prefecterrors-Error:">Error:</h3><p>in integration_cdwh.*: load:</p><pre><code>...
sqlalchemy.exc.ProgrammingError: (hdbcli.dbapi.ProgrammingError) (305, 'single-row query returns more than one row:  (at pos 151) ')
...
</code></pre><h3 id="Prefecterrors-Occurson/when:">Occurs on / when:</h3><p><em>dev: 29 dec 2021</em></p><h3 id="Prefecterrors-Solution:">Solution:</h3><p>Because we use the local dask executor, there are some rare cases, that a task will be run twice. Is fixed in more up to date version: https://github.com/PrefectHQ/prefect/issues/3124</p><h2 id="Prefecterrors-nclobmemoryproblem">nclob memory problem</h2><h3 id="Prefecterrors-Error:.1">Error:</h3><pre><code>Error: (hdbcli.dbapi.InternalError) (129, 'transaction rolled back by an internal error: &quot;CDWH&quot;.&quot;LIB_FCT_IMAGING_EXAM_REPORT&quot;:&quot;IL_LOAD_FCT&quot;: line 21 col 3 (at pos 1114): exception 70029020: ltt::exception caught while operating on MIDSIZE_NCLOB:2:1086806703453\nexception 3010193: Visible Lob owner mapping already exists! Existing mapping [27037725,205,4294967295] -&gt; 0xfe09c8d346, new cid=0xfe09cad0c1.\n')
[SQL: CALL lib_fct_imaging_exam_report:il_load_fct(1001480)]
</code></pre><h3 id="Prefecterrors-Occurson/when:.1">Occurs on / when:</h3><p><em>prefect-develop: 15 September 2021</em></p><h3 id="Prefecterrors-Solution:.1">Solution:</h3><p>not clear yet. HANA problem</p><h2 id="Prefecterrors-ExpectedtypeUUID!">Expected type UUID!</h2><h3 id="Prefecterrors-Error:.2">Error:</h3><pre><code>Failed to retrieve task state with error: ClientError([{'message': 'Expected type UUID!, found &quot;&quot;; Could not parse UUID: ', 'locations': [{'line': 2, 'column': 5}], 'path': ['get_or_create_task_run_info'], 'extensions': {'code': 'INTERNAL_SERVER_ERROR', 'exception': {'message': 'Expected type UUID!, found &quot;&quot;; Could not parse UUID: '}}}])
</code></pre><h3 id="Prefecterrors-Occurson/when:.2">Occurs on / when:</h3><p><em>DEV: 24 August 2021</em></p><h3 id="Prefecterrors-Solution:.2">Solution:</h3><p>Initiale Fehler bei der Ausführung von Flows mit vielen Tasks, Issue ist bei Prefect bekannt, aber noch nicht gefixt: https://github.com/PrefectHQ/prefect/issues/4687. Ebenfalls in slack gemeldet &gt; Fehler sollte in nächstem Release gefixt sein (v&gt;0.15.4) -&gt; evt. nützt ein re-register</p><h2 id="Prefecterrors-AttributeError:module&#39;hdbcli&#39;hasnoattribute&#39;dbapi&#39;">AttributeError: module 'hdbcli' has no attribute 'dbapi'</h2><h3 id="Prefecterrors-Error:.3">Error:</h3><pre><code>AttributeError: module 'hdbcli' has no attribute 'dbapi'
</code></pre><h3 id="Prefecterrors-Occurson/when:.3">Occurs on / when:</h3><p><em>PRD: 28. Juli 2021</em></p><h3 id="Prefecterrors-Solution:.3">Solution:</h3><p>Not know. only happens once till now.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Okt. 26, 2023 18:02</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
