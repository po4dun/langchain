<!DOCTYPE html>
<html>
    <head>
        <title>DataWarehouse : Migration TZ views to HANA</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="DataWarehouse_33423377.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="Wiki_33424094.html">Wiki</a></span>
                            </li>
                                                    <li>
                                <span><a href="Application-documentation_33424138.html">Application documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="HANA_33424112.html">HANA</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DataWarehouse : Migration TZ views to HANA
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Michael Hadorn</span>, last modified by <span class='editor'> Fabian Franzeck</span> on Juni 08, 2022
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <ol><li>Go to Toad and get the view definition out of the schema browser.</li><li>Copy the code to a Toad SQL Window -&gt; mark all -&gt; Edit -&gt; upper case (I think it makes sense to make all code in HANA upper case)</li><li>Copy code to a HANA SQL Console in user CDWH</li><li>Remove the code word force in create or replace force view</li><li>Try to run the sql without the view definition</li><li>Migrate code where needed (see below some functions to be migrated)</li><li>Create view, when all code is migrated</li></ol><p>Here are some functions to migrate:</p><ul><li>conversion<ul><li>To_char -&gt; to_nvarchar</li><li>To_date in format yyyymmdd -&gt; to_date</li><li>To_date in format yyyymmddhh24miss -&gt; to_seconddate</li><li>To_date as timestamp -&gt; to_timestamp</li></ul></li><li>casting<ul><li>Cast ([field] AS VARCHAR2 (4 CHAR)) -&gt; CAST([field] as NVARCHAR2(4))</li><li>Cast ([field] as number(1)) -&gt; cast([field] as decimal(1))</li></ul></li><li>other:<ul><li>Decode -&gt; map</li><li>[DATE2]-[DATE1] -&gt; DAYS_BETWEEN ([DATE1],[DATE2])</li><li>NVL -&gt; IFNULL</li><li>CONCAT([FIELD1],[FIELD2])-&gt; [FIELD1] || [FIELD2]</li><li>REGEXP_SUBSTR ([FIELD], 'string') -&gt; SUBSTR_REGEXPR ('string' IN [FIELD])</li></ul></li></ul><h2 id="MigrationTZviewstoHANA-AndheresomemorethingsI’vefoundout:">And here some more things I’ve found out:</h2><p>Sys Tables:<br/>Sys.ownership: information about the schema and owner of any object in the database.</p><p>Change Table Owner:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">alter table zamd.article owner to CDWH;  </pre>
</div></div><pre><code class="language-sql">
</code></pre><p>Create a table from a select:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">create table [new_table] as  
(  
Select * from [table]  
)  </pre>
</div></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Okt. 26, 2023 18:02</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
