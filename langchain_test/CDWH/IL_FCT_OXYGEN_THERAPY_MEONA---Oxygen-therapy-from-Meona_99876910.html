<!DOCTYPE html>
<html>
    <head>
        <title>DataWarehouse : IL_FCT_OXYGEN_THERAPY_MEONA - Oxygen therapy from Meona</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="DataWarehouse_33423377.html">DataWarehouse</a></span>
                            </li>
                                                    <li>
                                <span><a href="FAQ-CDWH-Analysis_33424229.html">FAQ CDWH Analysis</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DataWarehouse : IL_FCT_OXYGEN_THERAPY_MEONA - Oxygen therapy from Meona
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Fabian Franzeck</span>, last modified on Jan. 02, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p /><p /><style type='text/css'>/*<![CDATA[*/
div.rbtoc1698336166830 {padding: 0px;}
div.rbtoc1698336166830 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1698336166830 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1698336166830'>
<ul class='toc-indentation'>
<li><a href='#IL_FCT_OXYGEN_THERAPY_MEONA-OxygentherapyfromMeona-BackgroundinformationfromMeona'>Background information from Meona</a></li>
<li><a href='#IL_FCT_OXYGEN_THERAPY_MEONA-OxygentherapyfromMeona-SQLquery'>SQL query</a></li>
</ul>
</div><p /><h2 id="IL_FCT_OXYGEN_THERAPY_MEONA-OxygentherapyfromMeona-BackgroundinformationfromMeona">Background information from Meona</h2><p>In Meona GUI, Oxygen therapy is recored as in this example:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/99876910/99450977.png" data-image-src="attachments/99876910/99450977.png" data-height="397" data-width="1938" data-unresolved-comment-count="0" data-linked-resource-id="99450977" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20230102-092948.png" data-base-url="https://usbch.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="99876910" data-linked-resource-container-version="7" data-media-id="01ddb36e-5d88-4006-ac75-d9fd8ebb110b" data-media-type="file"></span><p>Basically, it documents how much Oxygen (in liters/min) a patient had at a given time and how it was given to patient (not visible on the screenshot, you would need to do a mouseover) - that could be a device like e.g. a facemask. </p><p>In the screenshot, you can also see ‘Paused’ parts of the therapy - during those times, the patient didn’t receive oxygen.</p><p>The application solved this in a not very clean way, as it allows to document multiple concurrent therapies at the same time, which is physically not possible. Trom the data, it is not possible to judge how the ‘true’ therapy in such cases. You can see this on right-most part of the screenshot:</p><span class="confluence-embedded-file-wrapper image-left-wrapper"><img class="confluence-embedded-image image-left" loading="lazy" src="attachments/99876910/99418220.png" data-image-src="attachments/99876910/99418220.png" data-height="418" data-width="212" data-unresolved-comment-count="0" data-linked-resource-id="99418220" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20230102-093519.png" data-base-url="https://usbch.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="99876910" data-linked-resource-container-version="7" data-media-id="7e730e8c-0222-4450-8854-b589732cc5d6" data-media-type="file"></span><p>the blue triangles on the line depict the start/end or a change in the liters/minute setting of the flow. If you look closely, there are two ‘opening’ and triangles. The data looks like this:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/99876910/99516538.png" data-image-src="attachments/99876910/99516538.png" data-height="81" data-width="961" data-unresolved-comment-count="0" data-linked-resource-id="99516538" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20230102-094115.png" data-base-url="https://usbch.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="99876910" data-linked-resource-container-version="7" data-media-id="5fb29408-530b-4dba-af22-d6f856ec2f48" data-media-type="file"></span><p>I.e., there are overlapping timeperiods. in this case, it doesn’t matter because the flow value is the same - but this is not necessarily always the case.</p><p /><p>This leads also to confusion information in the GUI sometimes - the mouse was held over the yellow position, showing ‘pausiert’, event though the blue bar indicates, that it was actually given at the moment:</p><span class="confluence-embedded-file-wrapper image-center-wrapper"><img class="confluence-embedded-image image-center" loading="lazy" src="attachments/99876910/100007965.png" data-image-src="attachments/99876910/100007965.png" data-height="116" data-width="1019" data-unresolved-comment-count="0" data-linked-resource-id="100007965" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20230102-094316.png" data-base-url="https://usbch.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="99876910" data-linked-resource-container-version="7" data-media-id="2e0529c7-d12f-4e8a-bbce-ca3792b977cd" data-media-type="file"></span><p /><p /><p /><h2 id="IL_FCT_OXYGEN_THERAPY_MEONA-OxygentherapyfromMeona-SQLquery">SQL query</h2><p>You could use this base query, comments in the script</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SELECT
    PAT_BK ,
    CAS_BK, 
    OTH_VALIDITY_FROM_DATE_TS,
    OTH_VALIDITY_UNTIL_DATE_TS,
    OTH_CALC_END_DATE_TS,   -- this is a derived field - VALIDITY_UNTIL is regularly 
              --- not ended by the users (=9999-12-31 00:00:00). This colums sets the timestamp of the end 
              --- of the Meona curve, in case VALIDITY_UNTIL is not set.  
    OTH,
    OTH_VALUE,
    OTH_VALUE_UNIT ,
    oth_type,
    OTH_IS_PAUSED ,   ---  typically have to exclude if =1, as it doesnt depict a therapy actually being given
    OTH_IS_DELETED    ---  typically have to exclude if =1, as it doesnt depict a therapy actually being given
FROM
    cdwh.V_IL_FCT_OXYGEN_THERAPY_MEONA
ORDER BY
    pat_bk,
    cas_bk,
    OTH_VALIDITY_FROM_DATE_TS;</pre>
</div></div><p /><p />
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99876910/99450977.png">image-20230102-092948.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99876910/99418220.png">image-20230102-093519.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99876910/99516538.png">image-20230102-094115.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/99876910/100007965.png">image-20230102-094316.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Okt. 26, 2023 18:02</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
